<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linhas de Ônibus - Campina Grande/PB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #8b0000 0%, #cc0000 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            width: 100%;
            max-width: 600px;
            overflow: hidden;
        }
        
        .header {
            background: #cc0000;
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            position: relative;
            z-index: 2;
        }
        
        .header-image-main {
            width: 200px;
            height: 120px;
            object-fit: contain;
            border-radius: 5px;
        }
        
        .header-image {
            width: 180px;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .header-text {
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #cc0000;
            box-shadow: 0 0 0 2px rgba(204, 0, 0, 0.2);
        }
        
        button {
            width: 100%;
            padding: 14px;
            background: #cc0000;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #a30000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .result-container {
            margin-top: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            min-height: 150px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .result-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            font-size: 18px;
            border-bottom: 2px solid #cc0000;
            padding-bottom: 5px;
        }
        
        #resultado {
            font-size: 18px;
            color: #008000;
            font-weight: 500;
            line-height: 1.5;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(40, 167, 69, 0.3);
            border-radius: 50%;
            border-top-color: #28a745;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .info {
            color: #17a2b8;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: #6c757d;
            border-top: 1px solid #eee;
            background: #f8f9fa;
        }
        
        /* Estilos para os botões de linha - MANTIDO O TAMANHO ORIGINAL */
        .bairro-result {
            margin-bottom: 15px;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #cc0000;
        }
        
        .bairro-title {
            font-weight: 600;
            color: #cc0000;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .linhas-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 5px;
        }
        
        /* BOTÕES COM MESMO TAMANHO DOS SPANS ORIGINAIS */
        .linha-btn {
            background: #e9f7ef;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: 600;
            color: #008000;
            border: 1px solid #c3e6cb;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
            width: auto;
            display: inline-block;
        }
        
        .linha-btn:hover {
            background: #d4edda;
            transform: none;
            box-shadow: none;
        }
        
        .no-linhas {
            color: #6c757d;
            font-style: italic;
        }
        
        .clear-btn {
            background: #6c757d;
            margin-top: 10px;
        }
        
        .clear-btn:hover {
            background: #5a6268;
        }
        
        /* Modal para detalhes da linha */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 1000px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 2px solid #cc0000;
            padding-bottom: 10px;
        }
        
        .modal-title {
            font-size: 24px;
            color: #cc0000;
            font-weight: bold;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6c757d;
            width: auto;
            padding: 0;
        }
        
        .close-btn:hover {
            color: #cc0000;
            transform: none;
            box-shadow: none;
        }
        
        .linha-info {
            margin-bottom: 15px;
        }
        
        .linha-descricao {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 20px;
            font-family: "Rubik", sans-serif;
            color: #cc0000;
            text-align: center;
        }
        
        .bairros-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .bairro-tag {
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 4px;
            border: 1px solid #dee2e6;
            font-size: 14px;
        }
        
        .button1 {
            margin-top: 3px;
            padding: 10px;
            box-sizing: border-box;
            display: flex;        
        }

        .botao2 {
            margin-left: 5px;
            margin-right: 5px;
        }

        h2 {
            color: #333;
            text-align: center;
        }

        /* Estilos para a galeria de imagens */
        .galeria-container {
            position: relative;
            margin-top: 60px;
            text-align: center;
            height: 350px;
            overflow: hidden;
        }

        .amostragem {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
            max-width: 600px;
            height: 300px;
            position: relative;
        }

        .amostragem img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease-in-out;
            position: absolute;
        }

        .pass_img, .pass_img2 {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }

        .pass_img {
            right: 20px;
        }

        .pass_img2 {
            left: 20px;
        }

        .pass_img button, .pass_img2 button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #cc0000;
            color: white;
            border: none;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pass_img button:hover, .pass_img2 button:hover {
            background: #a30000;
            transform: scale(1.1);
        }

        .contador-imagem {
            text-align: center;
            margin-top: 15px;
            color: #cc0000;
            font-size: 16px;
            font-weight: bold;
            background: rgba(255,255,255,0.9);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* Navegação responsiva */
        nav {
            padding: 0 20px;
            font-family: "Rubik", sans-serif;
            font-size: 20px;
        }
        
        .nav_container {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
        }

        .menu {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }

        .menu li {
            margin-top: 10px;
            position: relative;
            background-color: #8a0303;
        }

        .menu li a {
            display: block;
            color: #f8f9fa;
            text-decoration: none;
            padding: 20px;
            white-space: nowrap;
        }

        .menu li:hover {
            background-color: #cc0000;
        }

        .dropdown {
            position: relative;
            border: 1px solid #a30000;
            border-radius: 20px;
        }

        .dropdown_content {
            display: none;
            position: absolute;
            background-color: #cc0000;
            min-width: 200px;
            z-index: 2;
        }

        .dropdown_content a {
            padding: 12px 16px;
            display: block;
        }

        .dropdown:hover .dropdown_content { 
            display: block;
        }
        
        /* Estilos para o layout do modal responsivo */
        .modal-layout {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .modal-image-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .modal-map-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .modal-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            border: 2px solid #cc0000;
        }
        
        .modal-map {
            width: 100%;
            height: 400px;
            border: 0;
            border-radius: 8px;
        }

        /* Media Queries para responsividade */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .header-image-main {
                width: 180px;
                height: 100px;
            }
            
            .header-image {
                width: 140px;
                height: 100px;
            }
            
            .linha-descricao {
                text-align: center;
            }
            
            h2 {
                text-align: center;
            }
            
            .button1 {
                flex-direction: column;
                gap: 10px;
            }
            
            .botao2 {
                margin-left: 0;
                margin-right: 0;
            }

            .pass_img {
                right: 10px;
            }

            .pass_img2 {
                left: 10px;
            }

            .pass_img button, .pass_img2 button {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .galeria-container {
                height: 300px;
            }

            .amostragem {
                height: 250px;
            }
            
            .menu {
                flex-direction: column;
                align-items: center;
            }
            
            .menu li {
                width: 100%;
                text-align: center;
            }
            
            .dropdown_content {
                position: static;
                width: 100%;
            }
            
            .modal-content {
                padding: 15px;
            }
            
            .modal-map {
                height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 15px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .subtitle {
                font-size: 16px;
            }
            
            .content {
                padding: 20px;
            }
            
            .galeria-container {
                height: 250px;
                margin-top: 40px;
            }

            .amostragem {
                height: 200px;
            }
            
            .pass_img button, .pass_img2 button {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .contador-imagem {
                font-size: 14px;
                padding: 6px 12px;
            }
            
            .modal-title {
                font-size: 20px;
            }
            
            .modal-map {
                height: 250px;
            }
            
            .linha-btn {
                font-size: 14px;
                padding: 4px 8px;
            }
        }
        
        @media (min-width: 769px) {
            .modal-layout {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .modal-image-container {
                flex: 1;
                min-width: 300px;
            }
            
            .modal-map-container {
                flex: 1;
                min-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <img src="https://i.imgur.com/PolKIwx.png" alt="Brasão de Campina Grande" class="header-image-main">
                <img src="https://i.imgur.com/ygxe7QR.png" alt="CG - Rainha da borborema" class="header-image">
                <div class="header-text">
                    <h1>CAMPINA GRANDE - PB</h1>
                    <p class="subtitle">Sistema de Consulta de Empenas Caju</p>
                </div>
            </div>
        </div>

        <nav>
            <div class="nav_container">
                <ul class="menu">
                    <li class="dropdown">
                        <strong><a href="#" class="dropdown">CIDADES ATENDIDAS</a></strong>
                        <div class="dropdown_content">
                            <a href="natal.html">Natal</a>
                            <a href="pernambuco.html">Pernambuco</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <strong><a href="#">BAIRROS ATENDIDOS</a></strong>
                        <div class="dropdown_content">
                            <a>Alto Branco</a>
                            <a>Santo Antônio</a>
                            <a>Centro</a>
                            <a>Catolé</a>
                            <a>São José</a>
                            <a>Santa Terezinha</a>
                            <a>Centenário</a>
                            <a>Prata</a>
                            <a>José Pinheiro</a>
                            <a>Castelo Branco</a>   
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Galeria de Imagens -->
        <div class="galeria-container">
            <div class="pass_img2">
                <button type="button" onclick="imagemAnterior()">❮</button>
            </div>

            <div class="amostragem">   
                <img id="imagemAtual" src="" alt="Imagem da galeria">
            </div>

            <div class="pass_img">
                <button type="button" onclick="proximaImagem()">❯</button>
            </div>

            <div class="contador-imagem">
                <span id="contador">1/5</span>
            </div>
        </div>

        <div class="content">
            <div class="input-group">
                <label for="bairrosInput">Digite o Bairro Desejado:(Não Precisa de Acentos, Nem letras maiúsculas)</label>
                <input type="text" id="bairrosInput" placeholder="Ex: Centro, Catolé, Dinamérica">
            </div>
            
            <button onclick="buscarLinhas()" id="consultarBtn">Consultar Empenas</button>
            <button onclick="limparResultados()" class="clear-btn">Limpar Resultados</button>
            
            <div class="result-container">
                <div class="result-title">Empenas encontradas:</div>
                <div id="resultado">Os resultados aparecerão aqui</div>
            </div>
        </div>
        
        <div class="footer">
            © 2025 Caju Conecta
        </div>
    </div>

    <!-- Modal para detalhes da linha -->
    <div class="modal" id="linhaModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalLinhaNumero">Empena</div>
                <button class="close-btn" onclick="fecharModal()">&times;</button>
            </div>
            <div id="modalConteudo">
            </div>
        </div>
    </div>

    <script>
        // ========== GALERIA DE IMAGENS ==========
        const galeriaImagens = [
            "galeria/img1.jpg",
            "galeria/img2.jpg",
            "galeria/img3.jpg",
            "galeria/img4.jpg",
            "galeria/img5.jpg",
            "galeria/img6.jpg",
            "galeria/img7.jpg",
            "galeria/img8.jpg",
            "galeria/img9.jpg",
            "galeria/img10.jpg",
            "galeria/img11.jpg",
            "galeria/img12.jpg",
            "galeria/img13.jpg",
            "galeria/img14.jpg",
            "galeria/img15.jpg",
            "galeria/img16.jpg",
            "galeria/img17.jpg",
            "galeria/img18.jpg",
            "galeria/img19.jpg",
            "galeria/img20.jpg",
            "galeria/img21.jpg",
            "galeria/img22.jpg",
            "galeria/img23.jpg",
            "galeria/img24.jpg",
            "galeria/img25.jpg",
            "galeria/img26.jpg",
        ];

        let imagemIndex = 0;
        let estaTransicionando = false;

        // Função para inicializar a galeria
        function inicializarGaleria() {
            const imagemAtual = document.getElementById('imagemAtual');
            const contador = document.getElementById('contador');
            
            if (imagemAtual && galeriaImagens.length > 0) {
                imagemAtual.src = galeriaImagens[imagemIndex];
                atualizarContador();
                imagemAtual.style.transform = 'translateX(0)';
                imagemAtual.style.opacity = '1';
            }
        }

        // Função para atualizar o contador
        function atualizarContador() {
            const contador = document.getElementById('contador');
            if (contador) {
                contador.textContent = `${imagemIndex + 1}/${galeriaImagens.length}`;
            }
        }

        // Função para próxima imagem com transição lateral
        function proximaImagem() {
            if (estaTransicionando) return;
            
            estaTransicionando = true;
            const imagemAtual = document.getElementById('imagemAtual');
            
            // Efeito de saída para a esquerda
            imagemAtual.style.transform = 'translateX(-100%)';
            imagemAtual.style.opacity = '0';
            
            setTimeout(() => {
                imagemIndex = (imagemIndex + 1) % galeriaImagens.length;
                imagemAtual.src = galeriaImagens[imagemIndex];
                atualizarContador();
                
                // Posiciona a nova imagem à direita (fora da tela)
                imagemAtual.style.transform = 'translateX(100%)';
                imagemAtual.style.opacity = '1';
                
                // Efeito de entrada da direita para o centro
                setTimeout(() => {
                    imagemAtual.style.transform = 'translateX(0)';
                    imagemAtual.style.opacity = '1';
                    estaTransicionando = false;
                }, 50);
            }, 300);
        }

        // Função para imagem anterior com transição lateral
        function imagemAnterior() {
            if (estaTransicionando) return;
            
            estaTransicionando = true;
            const imagemAtual = document.getElementById('imagemAtual');
            
            // Efeito de saída para a direita
            imagemAtual.style.transform = 'translateX(100%)';
            imagemAtual.style.opacity = '0';
            
            setTimeout(() => {
                imagemIndex = (imagemIndex - 1 + galeriaImagens.length) % galeriaImagens.length;
                imagemAtual.src = galeriaImagens[imagemIndex];
                atualizarContador();
                
                // Posiciona a nova imagem à esquerda (fora da tela)
                imagemAtual.style.transform = 'translateX(-100%)';
                imagemAtual.style.opacity = '1';
                
                // Efeito de entrada da esquerda para o centro
                setTimeout(() => {
                    imagemAtual.style.transform = 'translateX(0)';
                    imagemAtual.style.opacity = '1';
                    estaTransicionando = false;
                }, 50);
            }, 300);
        }

        // ========== SISTEMA DE CONSULTA DE EMPENAS ==========
        // Dados organizados e corrigidos
        const dados = [
            {
                bairro: "Alto Branco",
                variacoes: ["Alto Branco", "Rua Ordenez Trovão de Melo"],
                empenas: ["Empena Alto Branco"]
            },
            {
                bairro: "Santo Antônio", 
                variacoes: ["Santo Antônio", "Av. Mal. Floriano Peixoto 2"],
                empenas: ["Empena Santo Antônio"]
            },
            {
                bairro: "Centro",
                variacoes: ["Centro 1", "Centro 2", "Centro 3", "Centro 4", "Centro 5", "Centro 6", "Centro 7", "Centro 8", "Centro 9", "Centro 10", "Centro 11", "Rua Sebastião Donato 1", "Rua Sebastião Donato 2", "Rua João Suassuana", "Rua Vidal Negreiros", "Rua Siqueira Campos", "Rua Maciel Pinheiro 1", "Rua Maciel Pinheiro 2", "Rua Venâncio Neiva", "Rua Semeão Leal", "Rua Treze de Maio"],
                empenas: ["Empena Centro(Sebastião Donato)", "Empena Centro(Sebastião Donato)", "Empena Centro(João Suassuna)", "Empena Centro(Vidal de Negreiros)", "Empena Centro(Siqueira Campos)", "Empena Centro(Maciel Pinheiro)", "Empena Centro(Maciel Pinheiro II)", "Empena Centro(Venâncio Neiva)", "Empena Centro(Semeão Leal)", "Empena Centro(Treze de Maio)", "Empena Centro(Sebastião Donato II)"]
            },
            {
                bairro: "Catolé",
                variacoes: ["Catolé 1", "Catolé 2", "Av. Canal", "Rua Vig. Calixto"],
                empenas: ["Empena Catolé(Av. Canal)", "Empena Catolé(R. Vig. Calixto)"]
            },
            {
                bairro: "São José",
                variacoes: ["São José 1", "São José 2", "São José 3", "São José 4", "São José 5", "Av. Dr. Elpídio de Almeida", "Rua Dr. João Moura", "Praça do Trabalho", "Rua Lino Gomes da Silva", "Av. Dom Pedro I"],
                empenas: ["Empena São José(Elpídio de Almeida)", "Empena São José(João Moura)", "Empena São José(Praça do Trabalho)", "Empena São José(Lino Gomes da Silva)", "Empena São José 5"]
            },
            {
                bairro: "Santa Teresinha",
                variacoes: ["Santa Teresinha", "Br 230"],
                empenas: ["Empena Santa Teresinha"]
            },
            {
                bairro: "Centenário",
                variacoes: ["Centenário 1", "Av. Marechal Floriano Peixoto 2"],
                empenas: ["Empena Centenário"]
            },
            {
                bairro: "Prata",
                variacoes: ["Prata 1", "Rua Nilo Peçanha"],
                empenas: ["Empena Prata"]
            },
            {
                bairro: "José Pinheiro",
                variacoes: ["José Pinheiro 1", "José Pinheiro 2", "José Pinheiro 3", "Av. Prefeito Severino Bezerra", "Rua Campos Sales 1", "Rua Campos Sales 2"],
                empenas: ["Empena José Pinheiro(Severino Bezerra)", "Empena José Pinheiro(Campos Sales)", "Empena José Pinheiro(Campos Sales II)"]
            },
            {
                bairro: "Castelo Branco",
                variacoes: ["Castelo Branco", "Av. Marechal Floriano Peixoto 4"],
                empenas: ["Empena Castelo Branco"]
            }
        ];

        // Imagens especiais (mapas das linhas)
        const imagensEspeciais = {
            "Empena Alto Branco": "img/1.jpg",
            "Empena Santo Antônio": "img/2.jpg",
            "Empena Centro(Sebastião Donato)": "img/3.jpg",
            "Empena Centro(Sebastião Donato)": "img/3.jpg",
            "Empena Catolé(Av. Canal)": "img/4.jpg",
            "Empena São José(Elpídio de Almeida)": "img/5.jpg",
            "Empena Santa Teresinha": "img/6.jpg",
            "Empena Catolé(R. Vig. Calixto)": "img/7.jpg",
            "Empena Centenário": "img/8.jpg",
            "Empena Centro(João Suassuna)": "img/9.jpg",
            "Empena Centro(Vidal de Negreiros)": "img/10.jpg",
            "Empena São José(João Moura)": "img/11.jpg",
            "Empena Prata": "img/12.jpg",
            "Empena Centro(Siqueira Campos)": "img/13.jpg",
            "Empena José Pinheiro(Severino Bezerra)": "img/14.jpg",
            "Empena José Pinheiro(Campos Sales)": "img/15.jpg",
            "Empena José Pinheiro(Campos Sales II)": "img/16.jpg",
            "Empena Centro(Maciel Pinheiro)": "img/17.jpg",
            "Empena Centro(Maciel Pinheiro II)": "img/18.jpg",
            "Empena Castelo Branco": "img/19.jpg",
            "Empena Centro(Venâncio Neiva)": "img/20.jpg",
            "Empena Centro(Semeão Leal)": "img/21.jpg",
            "Empena São José(Praça do Trabalho)": "img/22.jpg",
            "Empena São José(Lino Gomes da Silva)": "img/23.jpg",
            "Empena Centro(Treze de Maio)": "img/24.jpg",
            "Empena Centro(Sebastião Donato II)": "img/25.jpg",
            "Empena São José(Dom Pedro I)": "img/26.jpg",
        };

        // Google Maps para cada EMPENA
        const mapasEmpenas = {
            "Empena Alto Branco": "https://www.google.com/maps/embed?pb=!4v1761590587831!6m8!1m7!1sW5o56kBegFfAxGWgc5Y5YQ!2m2!1d-7.208028080663589!2d-35.87576844078111!3f200.6637365394838!4f-5.549095420472625!5f0.7820865974627469",
            "Empena Santo Antônio": "https://www.google.com/maps/embed?pb=!4v1761593867556!6m8!1m7!1sWt58gINxG0bs3E7wTYAzUQ!2m2!1d-7.216938397679787!2d-35.87630686254605!3f339.7039914899961!4f19.604202411930586!5f0.7820865974627469",
            "Empena Centro(Sebastião Donato)": "https://www.google.com/maps/embed?pb=!4v1761594491938!6m8!1m7!1s9MJz1c8Np1AFtZaCDRaYAw!2m2!1d-7.22222035489358!2d-35.88828675313594!3f86.04282891873943!4f26.687606575782397!5f0.7820865974627469",
            "Empena Centro(Sebastião Donato)": "https://www.google.com/maps/embed?pb=!4v1761594491938!6m8!1m7!1s9MJz1c8Np1AFtZaCDRaYAw!2m2!1d-7.22222035489358!2d-35.88828675313594!3f86.04282891873943!4f26.687606575782397!5f0.7820865974627469",
            "Empena Catolé(Av. Canal)": "https://www.google.com/maps/embed?pb=!4v1761594787639!6m8!1m7!1sZeCwjMy9axVKDW0feYQkRA!2m2!1d-7.230348538386564!2d-35.88095224028532!3f76.56761782667715!4f18.470450174787572!5f0.7820865974627469",
            "Empena São José(Elpídio de Almeida)": "https://www.google.com/maps/embed?pb=!4v1761595067352!6m8!1m7!1sljFevSz3w2AXnFiaNoMQTg!2m2!1d-7.228949390068908!2d-35.87710234612262!3f217.8195046804565!4f18.992059402313714!5f1.4001016803722055",
            "Empena Santa Teresinha": "https://www.google.com/maps/embed?pb=!4v1761595837069!6m8!1m7!1s5oRkJaYEoIJXNkeZPQm3NA!2m2!1d-7.247887906329982!2d-35.84620333769779!3f325.104608977282!4f13.582054514253102!5f2.0243191498335147",
            "Empena Catolé(R. Vig. Calixto)": "https://www.google.com/maps/embed?pb=!4v1761596959902!6m8!1m7!1sJNiYe9_VRUi5kA2BuflQKg!2m2!1d-7.235923725034232!2d-35.87949581762446!3f215.79883930547612!4f13.194717758777543!5f1.5364541012819717",
            "Empena Centenário": "https://www.google.com/maps/embed?pb=!4v1761671758078!6m8!1m7!1sUiENPNe4L6qTsCMeQyNuyg!2m2!1d-7.227425420748289!2d-35.90126367712924!3f279.616573297451!4f29.702127353515678!5f0.7820865974627469",
            "Empena Centro(João Suassuna)": "https://www.google.com/maps/embed?pb=!4v1761672265301!6m8!1m7!1sEjRkrB_h9qOjFPYFMVSYCw!2m2!1d-7.217113821390524!2d-35.88598169399577!3f320.9939722057087!4f37.582719366257365!5f0.7820865974627469",
            "Empena Centro(Vidal de Negreiros)": "https://www.google.com/maps/embed?pb=!4v1761673069101!6m8!1m7!1stLk2Sgi1tSz3mZKGWJslyw!2m2!1d-7.220813353790592!2d-35.88302335292972!3f350.7382719765872!4f22.269199263968602!5f1.5365362823413857",
            "Empena São José(João Moura)": "https://www.google.com/maps/embed?pb=!4v1761673824595!6m8!1m7!1si1wuEBJjo9szwxtPrZKtSw!2m2!1d-7.22598356954409!2d-35.88575983265802!3f65.93794627129968!4f25.313284656880512!5f0.7820865974627469",
            "Empena Prata": "https://www.google.com/maps/embed?pb=!4v1761674165250!6m8!1m7!1soTnDYQ82LbKQfpMiBG5okQ!2m2!1d-7.219293436539906!2d-35.89533838554095!3f255.78391032331726!4f29.946784136086194!5f0.7820865974627469",
            "Empena Centro(Siqueira Campos)": "https://www.google.com/maps/embed?pb=!4v1761674647843!6m8!1m7!1sfdLvReWBwB9Wxifi-39g4A!2m2!1d-7.213459466481239!2d-35.88932392462118!3f203.95121773890318!4f33.97297297562574!5f0.747649591134284",
            "Empena José Pinheiro(Severino Bezerra)": "https://www.google.com/maps/embed?pb=!4v1761675356062!6m8!1m7!1s3SsNdGfHTnNb-yViC5Cvcw!2m2!1d-7.228033168463563!2d-35.87439376034003!3f349.844435111335!4f10.275788419642154!5f1.5366184664772655",
            "Empena José Pinheiro(Campos Sales)": "https://www.google.com/maps/embed?pb=!4v1761676036740!6m8!1m7!1s0NtX_6KTzkSGs0FJKFf4aw!2m2!1d-7.22716108870017!2d-35.87210376520341!3f216.63880926326647!4f23.461197276374506!5f0.7820865974627469",
            "Empena José Pinheiro(Campos Sales II)": "https://www.google.com/maps/embed?pb=!4v1761676416851!6m8!1m7!1sd7uPzPJ7Kt5COwslY9rCFg!2m2!1d-7.221496339482704!2d-35.8737640058223!3f189.29001103641554!4f18.645202482380682!5f1.4837964843781664",
            "Empena Centro(Maciel Pinheiro)": "https://www.google.com/maps/embed?pb=!4v1761677530227!6m8!1m7!1smgrzpcWnEd-mL-5WHdADBg!2m2!1d-7.21852666241489!2d-35.88309636687061!3f109.82773392878244!4f41.24072631415214!5f0.7820865974627469",
            "Empena Centro(Maciel Pinheiro II)": "https://www.google.com/maps/embed?pb=!4v1761677751350!6m8!1m7!1suZIwfdJggZ_ZtNRghh0iKw!2m2!1d-7.218259508990137!2d-35.88335266356343!3f172.04484776198245!4f19.390455297501205!5f1.5365362823394726",
            "Empena Castelo Branco": "https://www.google.com/maps/embed?pb=!4v1761678237210!6m8!1m7!1spNZF8cXJaD_aLnLVTHoGVQ!2m2!1d-7.217353909934356!2d-35.87859731792896!3f49.369154673341875!4f16.329432790507155!5f1.4655786640268316",
            "Empena Centro(Venâncio Neiva)": "https://www.google.com/maps/embed?pb=!4v1761679433787!6m8!1m7!1s9bayy9QvcHJYf2y3GNt6Wg!2m2!1d-7.217563705250519!2d-35.88486323374517!3f14.170129032310378!4f50.78829956575555!5f1.5132633358619052",
            "Empena Centro(Semeão Leal)": "https://www.google.com/maps/embed?pb=!4v1761679672920!6m8!1m7!1sL63cVO-yRnI2ltWFTptQZA!2m2!1d-7.219015731991563!2d-35.88403697664409!3f4.239512537094721!4f19.452005639311224!5f1.604710285487064",
            "Empena São José(Praça do Trabalho)": "https://www.google.com/maps/embed?pb=!4v1761679854679!6m8!1m7!1smnCjiV0xlqPhVCzrXSGCcg!2m2!1d-7.224691004482108!2d-35.89211997054888!3f188.16291613072312!4f22.988737815739412!5f0.7820865974627469",
            "Empena São José(Lino Gomes da Silva)": "https://www.google.com/maps/embed?pb=!4v1761680182647!6m8!1m7!1sd8qcJ1FzOp2yYZyHrIxa4Q!2m2!1d-7.223579459535138!2d-35.89030370778112!3f36.984050505822836!4f12.803056379743083!5f1.5365362823413857",
            "Empena Centro(Treze de Maio)": "https://www.google.com/maps/embed?pb=!4v1761680478191!6m8!1m7!1scWsMrjEJUN4Y1pqp_cb4fQ!2m2!1d-7.221837614036589!2d-35.88758035779031!3f123.97235503171491!4f35.62256924593285!5f1.6047934451340988",
            "Empena Centro(Sebastião Donato II)": "https://www.google.com/maps/embed?pb=!4v1761681342782!6m8!1m7!1svkc7SigFHxB47TdV26aAFQ!2m2!1d-7.225697064579344!2d-35.88447630101691!3f244.56789744319596!4f12.38079890957259!5f1.5365362823413857",
            "Empena São José 5": "https://www.google.com/maps/embed?pb=!4v1761681585683!6m8!1m7!1sv2m4jleAon6XcinyRu_3qQ!2m2!1d-7.228546552764636!2d-35.8934179287956!3f339.97533263161154!4f18.570684957694567!5f0.8993588082306363"
        };

        // Ignorar Acentos
        function normalizar(str) {
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }

        function buscarLinhas() {
            const input = document.getElementById('bairrosInput').value.trim();
            
            // Validação de entrada
            if (!input) {
                document.getElementById('resultado').innerHTML = "<span style='color: #cc0000;'>Por favor, digite um bairro para consultar.</span>";
                return;
            }
            
            const bairrosProcurados = input.split(',').map(b => normalizar(b.trim()));

            // Mostrar loading
            document.getElementById('resultado').innerHTML = "<span class='loading'></span>Buscando Empenas...";
            document.getElementById('resultado').className = "info";
            // Desabilitar botão durante a busca
            document.getElementById('consultarBtn').disabled = true;

            // Simular um tempo de processamento
            setTimeout(() => {
                let resultadosHTML = "";
                let encontrouResultados = false;
                
                // Para cada bairro procurado
                bairrosProcurados.forEach(bairroProcurado => {
                    if (!bairroProcurado) return; // Pular entradas vazias
                    
                    // Encontrar o bairro correspondente na base de dados
                    // Agora verificamos tanto o nome principal quanto as variações
                    const bairroEncontrado = dados.find(d => 
                        normalizar(d.bairro) === bairroProcurado || 
                        d.variacoes.some(v => normalizar(v) === bairroProcurado)
                    );
                    
                    if (bairroEncontrado) {
                        encontrouResultados = true;
                        resultadosHTML += `
                            <div class="bairro-result">
                                <div class="bairro-title">${bairroEncontrado.bairro}</div>
                                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                                </div>
                                <div class="linhas-list">
                                    ${bairroEncontrado.empenas.map(empena => 
                                        `<button class="linha-btn" onclick="mostrarDetalhesEmpena('${empena}')">${empena}</button>`
                                    ).join('')}
                                </div>
                            </div>
                        `;
                    } else {
                        resultadosHTML += `
                            <div class="bairro-result">
                                <div class="bairro-title">${bairroProcurado}</div>
                                <div class="no-linhas">Nenhuma Empena encontrada para este bairro</div>
                            </div>
                        `;
                    }
                });
                
                // Se não houver resultados válidos
                if (!encontrouResultados) {
                    resultadosHTML = "<div class='no-linhas'>Nenhum bairro válido foi informado.</div>";
                }
                
                document.getElementById('resultado').innerHTML = resultadosHTML;
                document.getElementById('resultado').className = "";
                
                // Reabilitar o botão
                document.getElementById('consultarBtn').disabled = false;
            }, 800);
        }

        function mostrarDetalhesEmpena(empena) {
            // Verifica se tem imagem especial, senão usa a padrão
            const imagemEmpena = imagensEspeciais[empena] || "https://i.imgur.com/ygxe7QR.png";
            
            // Obter o mapa específico para a empena
            const mapaEmpena = mapasEmpenas[empena] || "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3958.258663292987!2d-35.88872292501706!3d-7.215845392848311!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7ac1f4d8b1b3f3b%3A0x5c5e5c5e5c5e5c5e!2sCampina%20Grande%20-%20PB!5e0!3m2!1spt-BR!2sbr!4v1234567890";
            
            let modalHTML = "";
            
           // Informações adicionais sobre a empena
            modalHTML += `
                <div class="linha-info">
                    <div class="linha-descricao"></div>
                    <div style="padding: 10px; background: #f8f9fa; border-radius: 8px; font-size:20px;">
                        <p><strong>Status:</strong> Disponível</p>
                    </div>
                </div>
            `;

            // Layout responsivo para imagem e mapa
            modalHTML += `
                <div class="modal-layout">
                    <div class="modal-image-container">
                        <img src="${imagemEmpena}" 
                             alt="Empena ${empena}" 
                             class="modal-image">
                    </div>
                    <div class="modal-map-container">
                        <iframe 
                            src="${mapaEmpena}" 
                            class="modal-map" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            `;

            document.getElementById('modalLinhaNumero').textContent = `${empena}`;
            document.getElementById('modalConteudo').innerHTML = modalHTML;
            document.getElementById('linhaModal').style.display = 'flex';
        }

        // Função para fechar o modal
        function fecharModal() {
            document.getElementById('linhaModal').style.display = 'none';
        }

        // Fechar modal ao clicar fora dele
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('linhaModal');
            if (event.target === modal) {
                fecharModal();
            }
        });

        // Função para limpar os resultados
        function limparResultados() {
            document.getElementById('resultado').innerHTML = "Os resultados aparecerão aqui";
            document.getElementById('bairrosInput').value = "";
            document.getElementById('resultado').className = "";
        }

        // Enter Para Rodar O Código
        document.getElementById("bairrosInput").addEventListener("keydown", function(e) {
            if (e.key === "Enter") {
                buscarLinhas();
            }
        });

        // Funções de navegação (mantidas as originais)
        function voltarpagina() {
            window.location.href = "Rotas Caruaru.html";             
        }

        function voltarpagina2() {
            window.location.href = "Rotas Natal.html";             
        }

        function voltarpagina3() {
            window.location.href = "Rotas João Pessoa.html";             
        }

        // Inicializar a galeria quando a página carregar
        document.addEventListener('DOMContentLoaded', function() {
            inicializarGaleria();
        });
    </script>
</body>
</html>