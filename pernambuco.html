<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linhas de Ônibus - Campina Grande/PB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #8b0000 0%, #cc0000 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            width: 100%;
            max-width: 600px;
            overflow: hidden;
        }
        
        .header {
            background: #cc0000;
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
            position: relative;
            z-index: 2;
        }
        
        .header-image-main {
            width: 200px;
            height: 120px;
            object-fit: contain;
            border-radius: 5px;
        }
        
        .header-image {
            width: 180px;
            height: 120px;
            object-fit: cover;
            border-radius: 10px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .header-text {
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 32px;
            margin-bottom: 5px;
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus {
            outline: none;
            border-color: #cc0000;
            box-shadow: 0 0 0 2px rgba(204, 0, 0, 0.2);
        }
        
        button {
            width: 100%;
            padding: 14px;
            background: #cc0000;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #a30000;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .result-container {
            margin-top: 25px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            min-height: 150px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
        
        .result-title {
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
            font-size: 18px;
            border-bottom: 2px solid #cc0000;
            padding-bottom: 5px;
        }
        
        #resultado {
            font-size: 18px;
            color: #008000;
            font-weight: 500;
            line-height: 1.5;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(40, 167, 69, 0.3);
            border-radius: 50%;
            border-top-color: #28a745;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .info {
            color: #17a2b8;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            font-size: 14px;
            color: #6c757d;
            border-top: 1px solid #eee;
            background: #f8f9fa;
        }
        
        /* Estilos para os botões de linha - MANTIDO O TAMANHO ORIGINAL */
        .bairro-result {
            margin-bottom: 15px;
            padding: 10px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid #cc0000;
        }
        
        .bairro-title {
            font-weight: 600;
            color: #cc0000;
            margin-bottom: 10px;
            font-size: 18px;
        }
        
        .linhas-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 5px;
        }
        
        /* BOTÕES COM MESMO TAMANHO DOS SPANS ORIGINAIS */
        .linha-btn {
            background: #e9f7ef;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: 600;
            color: #008000;
            border: 1px solid #c3e6cb;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
            width: auto;
            display: inline-block;
        }
        
        .linha-btn:hover {
            background: #d4edda;
            transform: none;
            box-shadow: none;
        }
        
        .no-linhas {
            color: #6c757d;
            font-style: italic;
        }
        
        .clear-btn {
            background: #6c757d;
            margin-top: 10px;
        }
        
        .clear-btn:hover {
            background: #5a6268;
        }
        
        /* Modal para detalhes da linha */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 1000px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 2px solid #cc0000;
            padding-bottom: 10px;
        }
        
        .modal-title {
            font-size: 24px;
            color: #cc0000;
            font-weight: bold;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6c757d;
            width: auto;
            padding: 0;
        }
        
        .close-btn:hover {
            color: #cc0000;
            transform: none;
            box-shadow: none;
        }
        
        .linha-info {
            margin-bottom: 15px;
        }
        
        .linha-descricao {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 20px;
            font-family: "Rubik", sans-serif;
            color: #cc0000;
            text-align: center;
        }
        
        .bairros-list {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .bairro-tag {
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 4px;
            border: 1px solid #dee2e6;
            font-size: 14px;
        }
        
        .button1 {
            margin-top: 3px;
            padding: 10px;
            box-sizing: border-box;
            display: flex;        
        }

        .botao2 {
            margin-left: 5px;
            margin-right: 5px;
        }

        h2 {
            color: #333;
            text-align: center;
        }

        /* Estilos para a galeria de imagens */
        .galeria-container {
            position: relative;
            margin-top: 60px;
            text-align: center;
            height: 350px;
            overflow: hidden;
        }

        .amostragem {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto;
            max-width: 600px;
            height: 300px;
            position: relative;
        }

        .amostragem img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease-in-out;
            position: absolute;
        }

        .pass_img, .pass_img2 {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
        }

        .pass_img {
            right: 20px;
        }

        .pass_img2 {
            left: 20px;
        }

        .pass_img button, .pass_img2 button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #cc0000;
            color: white;
            border: none;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pass_img button:hover, .pass_img2 button:hover {
            background: #a30000;
            transform: scale(1.1);
        }

        .contador-imagem {
            text-align: center;
            margin-top: 15px;
            color: #cc0000;
            font-size: 16px;
            font-weight: bold;
            background: rgba(255,255,255,0.9);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        /* Navegação responsiva */
        nav {
            padding: 0 20px;
            font-family: "Rubik", sans-serif;
            font-size: 20px;
        }
        
        .nav_container {
            max-width: 1100px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
        }

        .menu {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }

        .menu li {
            margin-top: 10px;
            position: relative;
            background-color: #8a0303;
        }

        .menu li a {
            display: block;
            color: #f8f9fa;
            text-decoration: none;
            padding: 20px;
            white-space: nowrap;
        }

        .menu li:hover {
            background-color: #cc0000;
        }

        .dropdown {
            position: relative;
            border: 1px solid #a30000;
            border-radius: 20px;
        }

        .dropdown_content {
            display: none;
            position: absolute;
            background-color: #cc0000;
            min-width: 200px;
            z-index: 2;
        }

        .dropdown_content a {
            padding: 12px 16px;
            display: block;
        }

        .dropdown:hover .dropdown_content {
            display: block;
        }
        
        /* Estilos para o layout do modal responsivo */
        .modal-layout {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .modal-image-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .modal-map-container {
            text-align: center;
            margin: 15px 0;
        }
        
        .modal-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            border: 2px solid #cc0000;
        }
        
        .modal-map {
            width: 100%;
            height: 400px;
            border: 0;
            border-radius: 8px;
        }

        /* Media Queries para responsividade */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .header-image-main {
                width: 180px;
                height: 100px;
            }
            
            .header-image {
                width: 140px;
                height: 100px;
            }
            
            .linha-descricao {
                text-align: center;
            }
            
            h2 {
                text-align: center;
            }
            
            .button1 {
                flex-direction: column;
                gap: 10px;
            }
            
            .botao2 {
                margin-left: 0;
                margin-right: 0;
            }

            .pass_img {
                right: 10px;
            }

            .pass_img2 {
                left: 10px;
            }

            .pass_img button, .pass_img2 button {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }

            .galeria-container {
                height: 300px;
            }

            .amostragem {
                height: 250px;
            }
            
            .menu {
                flex-direction: column;
                align-items: center;
            }
            
            .menu li {
                width: 100%;
                text-align: center;
            }
            
            .dropdown_content {
                position: static;
                width: 100%;
            }
            
            .modal-content {
                padding: 15px;
            }
            
            .modal-map {
                height: 300px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 15px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .subtitle {
                font-size: 16px;
            }
            
            .content {
                padding: 20px;
            }
            
            .galeria-container {
                height: 250px;
                margin-top: 40px;
            }

            .amostragem {
                height: 200px;
            }
            
            .pass_img button, .pass_img2 button {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .contador-imagem {
                font-size: 14px;
                padding: 6px 12px;
            }
            
            .modal-title {
                font-size: 20px;
            }
            
            .modal-map {
                height: 250px;
            }
            
            .linha-btn {
                font-size: 14px;
                padding: 4px 8px;
            }
        }
        
        @media (min-width: 769px) {
            .modal-layout {
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .modal-image-container {
                flex: 1;
                min-width: 300px;
            }
            
            .modal-map-container {
                flex: 1;
                min-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <img src="https://i.imgur.com/PolKIwx.png" alt="Brasão de Campina Grande" class="header-image-main">
                <img src="https://i.imgur.com/ygxe7QR.png" alt="CG - Rainha da borborema" class="header-image">
                <div class="header-text">
                    <h1>PERNAMBUCO - PE</h1>
                    <p class="subtitle">Sistema de Consulta de Empenas Caju</p>
                </div>
            </div>
        </div>

        <nav>
            <div class="nav_container">
                <ul class="menu">
                    <li class="dropdown">
                        <strong><a href="#" class="dropdown">CIDADES ATENDIDAS</a></strong>
                        <div class="dropdown_content">
                            <a href="joao_pessoa.html">João Pessoa</a>
                            <a href="index.html">Paraíba</a>
                        </div>
                    </li>
                    <li class="dropdown">
                        <strong><a href="#">BAIRROS ATENDIDOS</a></strong>
                        <div class="dropdown_content">
                            <a></a> 
                        </div>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Galeria de Imagens -->
        <div class="galeria-container">
            <div class="pass_img2">
                <button type="button" onclick="imagemAnterior()">❮</button>
            </div>

            <div class="amostragem">   
                <img id="imagemAtual" src="" alt="Imagem da galeria">
            </div>

            <div class="pass_img">
                <button type="button" onclick="proximaImagem()">❯</button>
            </div>

            <div class="contador-imagem">
                <span id="contador">1/5</span>
            </div>
        </div>

        <div class="content">
            <div class="input-group">
                <label for="bairrosInput">Digite o Bairro Desejado:(Não Precisa de Acentos, Nem letras maiúsculas)</label>
                <input type="text" id="bairrosInput" placeholder="Ex: Centro, Catolé, Dinamérica">
            </div>
            
            <button onclick="buscarLinhas()" id="consultarBtn">Consultar Empenas</button>
            <button onclick="limparResultados()" class="clear-btn">Limpar Resultados</button>
            
            <div class="result-container">
                <div class="result-title">Empenas encontradas:</div>
                <div id="resultado">Os resultados aparecerão aqui</div>
            </div>
        </div>
        
        <div class="footer">
            © 2025 Caju Conecta
        </div>
    </div>

    <!-- Modal para detalhes da linha -->
    <div class="modal" id="linhaModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="modalLinhaNumero">Empena</div>
                <button class="close-btn" onclick="fecharModal()">&times;</button>
            </div>
            <div id="modalConteudo">
            </div>
        </div>
    </div>

    <script>
        // ========== GALERIA DE IMAGENS ==========
        const galeriaImagens = [

        ];

        let imagemIndex = 0;
        let estaTransicionando = false;

        // Função para inicializar a galeria
        function inicializarGaleria() {
            const imagemAtual = document.getElementById('imagemAtual');
            const contador = document.getElementById('contador');
            
            if (imagemAtual && galeriaImagens.length > 0) {
                imagemAtual.src = galeriaImagens[imagemIndex];
                atualizarContador();
                imagemAtual.style.transform = 'translateX(0)';
                imagemAtual.style.opacity = '1';
            }
        }

        // Função para atualizar o contador
        function atualizarContador() {
            const contador = document.getElementById('contador');
            if (contador) {
                contador.textContent = `${imagemIndex + 1}/${galeriaImagens.length}`;
            }
        }

        // Função para próxima imagem com transição lateral
        function proximaImagem() {
            if (estaTransicionando) return;
            
            estaTransicionando = true;
            const imagemAtual = document.getElementById('imagemAtual');
            
            // Efeito de saída para a esquerda
            imagemAtual.style.transform = 'translateX(-100%)';
            imagemAtual.style.opacity = '0';
            
            setTimeout(() => {
                imagemIndex = (imagemIndex + 1) % galeriaImagens.length;
                imagemAtual.src = galeriaImagens[imagemIndex];
                atualizarContador();
                
                // Posiciona a nova imagem à direita (fora da tela)
                imagemAtual.style.transform = 'translateX(100%)';
                imagemAtual.style.opacity = '1';
                
                // Efeito de entrada da direita para o centro
                setTimeout(() => {
                    imagemAtual.style.transform = 'translateX(0)';
                    imagemAtual.style.opacity = '1';
                    estaTransicionando = false;
                }, 50);
            }, 300);
        }

        // Função para imagem anterior com transição lateral
        function imagemAnterior() {
            if (estaTransicionando) return;
            
            estaTransicionando = true;
            const imagemAtual = document.getElementById('imagemAtual');
            
            // Efeito de saída para a direita
            imagemAtual.style.transform = 'translateX(100%)';
            imagemAtual.style.opacity = '0';
            
            setTimeout(() => {
                imagemIndex = (imagemIndex - 1 + galeriaImagens.length) % galeriaImagens.length;
                imagemAtual.src = galeriaImagens[imagemIndex];
                atualizarContador();
                
                // Posiciona a nova imagem à esquerda (fora da tela)
                imagemAtual.style.transform = 'translateX(-100%)';
                imagemAtual.style.opacity = '1';
                
                // Efeito de entrada da esquerda para o centro
                setTimeout(() => {
                    imagemAtual.style.transform = 'translateX(0)';
                    imagemAtual.style.opacity = '1';
                    estaTransicionando = false;
                }, 50);
            }, 300);
        }

        // ========== SISTEMA DE CONSULTA DE EMPENAS ==========
        // Dados organizados e corrigidos
        const dados = [
            {
                bairro: "Caruaru",
                variacoes: ["Rua Duque de Caxias", "R. Duque de Caxias","Rua Leão Dourado","R. Leão Dourado,","Av. Rio Branco", "Avenida Rio Branco","Av. Agamenon Magalhães","Avenida Agamenon Magalhães","R. Djalma Dutra","Rua Djalma Dutra","R. Quinze de Novembro","Rua Quinze de Novembro"],
                empenas: ["Empena Caruaru(Duque de Caxias 1)", "Empena Caruaru(Leão Dourado)","Empena Caruaru(Rio Branco 1)","Empena Caruaru(Agamenon Magalhães)","Empena Caruaru(Djalma Dutra)","Empena Caruaru(Quinze de Novembro)","Empena Caruaru(Rio Branco 2)","Empena Caruaru(Sete de Setembro)","Empena Caruaru(Martins Júnior)","Empena Caruaru(Expedicionários)","Empena Caruaru(Duque de Caxias 2)"]
            },

            {
                bairro: "Toritama",
                variacoes: ["BR 104"],
                empenas: ["Empena Toritama(BR 104)","Empena Toritama(Pedro Ventura)","Empena Toritama(Santa Ana)","Empena Toritama(PE 090)","Empena Toritama(Manoel da Silva 1)","Empena Toritama(Manoel da Silva 2)","Empena Toritama(Manoel da Silva 3)","Empena Toritama(Manoel da Silva 4)"]
            },
            
            {
                bairro: "Santa Cruz",
                variacoes: ["Av. Pref. Braz de Líra","Avenida Pref. Braz de Líra"],
                empenas: ["Empena Santa Cruz(Braz de Líra 1)","Empena Santa Cruz(Nove de Dezembro)","Empena Santa Cruz(Braz de Líra 2)","Empena Santa Cruz(Joaquim Nabuco)","Empena Santa Cruz(Braz de Líra 3)","Empena Santa Cruz(PE-160 1)","Empena Santa Cruz(Vieira da Silva)"]
            },

            {
                bairro: "Taquaritinga",
                variacoes: [""],
                empenas: ["Empena Taquaritinga(Vieira da Silva)","Empena Taquaritinga(PE 160 2)"],

            }
        ];

        // Imagens especiais (mapas das linhas)
        const imagensEspeciais = {
            "Empena Alto Branco": "img/1.jpg",
        };

        // Google Maps para cada EMPENA
        const mapasEmpenas = {
            "Empena Caruaru(Duque de Caxias 1)": "https://www.google.com/maps/embed?pb=!4v1762451469927!6m8!1m7!1sqAyb_1DYQ3wOxV837dxfkw!2m2!1d-8.286328788084992!2d-35.97241794918571!3f235.18984710896842!4f25.54703762050572!5f0.7820865974627469",
            "Empena Caruaru(Leão Dourado)": "https://www.google.com/maps/embed?pb=!4v1762451559648!6m8!1m7!1s3Qz0YYR8_FWnXcUiglmtsQ!2m2!1d-8.2883066098559!2d-35.98270927137362!3f145.43544308807805!4f23.847754597506423!5f1.5366184664772655",
            "Empena Caruaru(Rio Branco 1)": "https://www.google.com/maps/embed?pb=!4v1762451687383!6m8!1m7!1sArL1w24JJ0TOmwXFaRu3WQ!2m2!1d-8.284947291591495!2d-35.97055536143925!3f134.36100125885503!4f37.924754058890414!5f0.7820865974627469",
            "Empena Caruaru(Agamenon Magalhães)": "https://www.google.com/maps/embed?pb=!4v1762451914920!6m8!1m7!1sknv1HQj-6UXQi9KflC5Q-w!2m2!1d-8.273436664248473!2d-35.97440458868606!3f195.41519318900654!4f34.87437619597128!5f1.6048753708028989",
            "Empena Caruaru(Djalma Dutra)": "https://www.google.com/maps/embed?pb=!4v1762452043134!6m8!1m7!1sDfsmt6MAFNA4eAZOYNP_Eg!2m2!1d-8.287477150205921!2d-35.9737733084386!3f26.214696235520023!4f29.007451825934112!5f0.8216427215922666",
            "Empena Caruaru(Quinze de Novembro)": "https://www.google.com/maps/embed?pb=!4v1762452249336!6m8!1m7!1sewH-weHBLtFzoHu7xwvm0Q!2m2!1d-8.287023811801117!2d-35.97254811187161!3f59.53128246659314!4f28.435416714147664!5f1.604875370802426",
            "Empena Caruaru(Rio Branco 2)": "https://www.google.com/maps/embed?pb=!4v1762452412086!6m8!1m7!1ssfuCw_WzPfrNUj0-gsdGnQ!2m2!1d-8.282663281422854!2d-35.97160382527539!3f174.2717174712695!4f11.739664147351476!5f2.8755842143356434",
            "Empena Caruaru(Sete de Setembro)": "https://www.google.com/maps/embed?pb=!4v1762452919587!6m8!1m7!1s5yCoQGigXI8KXw_MFnGPkA!2m2!1d-8.286068865263328!2d-35.96942248640354!3f64.03650097765305!4f23.102465815182754!5f1.5366184664772655",
            "Empena Caruaru(Martins Júnior)": "https://www.google.com/maps/embed?pb=!4v1762453457825!6m8!1m7!1snOBzKfVUyuH0Dyp4x7x_Pg!2m2!1d-8.285975613003036!2d-35.96824864180782!3f57.29530859560795!4f30.72619891365001!5f0.8095524737244797",
            "Empena Caruaru(Expedicionários)": "https://www.google.com/maps/embed?pb=!4v1762453796981!6m8!1m7!1sxdwnKhufw6QOXdmIBKz9qA!2m2!1d-8.285138172577257!2d-35.96984604967782!3f340.5788257207304!4f28.25979077484969!5f1.336879492447211",
            "Empena Caruaru(Duque de Caxias 2)": "https://www.google.com/maps/embed?pb=!4v1762454649308!6m8!1m7!1sLHCweqONf-muE_7QDEgpNg!2m2!1d-8.285559596427532!2d-35.97052005798417!3f207.67052278018224!4f29.99719082494289!5f1.1402528468092714",
            
            "Empena Toritama(BR 104)": "https://www.google.com/maps/embed?pb=!4v1762454980380!6m8!1m7!1spvByvkJk6rKz80LwIC1pyA!2m2!1d-8.009828887483007!2d-36.05789160219501!3f63.419589605904946!4f5.83496116455386!5f1.5366990362452673",
            "Empena Toritama(Pedro Ventura)": "https://www.google.com/maps/embed?pb=!4v1762455487908!6m8!1m7!1shTNt4hP1JmLF5IF0v48XhA!2m2!1d-8.009165940976969!2d-36.05794711189217!3f109.18330227559328!4f21.639828100135517!5f0.7820865974627469",
            "Empena Toritama(Santa Ana)": "https://www.google.com/maps/embed?pb=!4v1762455662330!6m8!1m7!1sHPkvPnp8O8cqc99qtF4nig!2m2!1d-8.001848422256632!2d-36.05995348293126!3f332.2863518928783!4f8.87352814157299!5f1.6048753708033723",
            "Empena Toritama(PE 090)": "https://www.google.com/maps/embed?pb=!4v1762455819555!6m8!1m7!1sRngDY8WIJXmgS0sZQIJTHw!2m2!1d-8.002849090811578!2d-36.06021716740517!3f226.64902453539253!4f3.2388435948121526!5f2.5816745527702323",
            "Empena Toritama(Manoel da Silva 1)": "https://www.google.com/maps/embed?pb=!4v1762458127703!6m8!1m7!1sWjlwQ-UnDUjJyjOpUuFyug!2m2!1d-8.005956035177324!2d-36.05686180301742!3f101.76612329099079!4f17.52959284403218!5f2.5817801885292613",
            "Empena Toritama(Manoel da Silva 2)": "https://www.google.com/maps/embed?pb=!4v1762458323248!6m8!1m7!1sb5C-OYlqJj4uhuNJvnvEQw!2m2!1d-8.005829462706783!2d-36.05558397349724!3f305.19175420573373!4f11.790720705912264!5f1.6048753708014791",
            "Empena Toritama(Manoel da Silva 3)": "https://www.google.com/maps/embed?pb=!4v1762458624002!6m8!1m7!1sjU89crvWOk_aUz_2JarsWg!2m2!1d-8.00580118137063!2d-36.05629806704469!3f292.188000819157!4f13.145316681266635!5f1.8834753776765418",
            "Empena Toritama(Manoel da Silva 4)": "https://www.google.com/maps/embed?pb=!4v1762459249871!6m8!1m7!1sc8CXkgDvzpFZEyppnllUYA!2m2!1d-8.006016230669681!2d-36.05715346051926!3f282.0578369033687!4f10.248985403942882!5f1.604875370805265",

            "Empena Santa Cruz(Braz de Líra 1)": "https://www.google.com/maps/embed?pb=!4v1762459847916!6m8!1m7!1swHV79NXfhUY5S6JiKBB0yg!2m2!1d-7.955323893185507!2d-36.19693173328345!3f343.9491604240084!4f22.093669832662414!5f1.5366184664772655",
            "Empena Santa Cruz(Nove de Dezembro)": "https://www.google.com/maps/embed?pb=!4v1762460231533!6m8!1m7!1sPq25ewaW7u5gFv4l7VJwWg!2m2!1d-7.954550698791035!2d-36.20591843681424!3f125.68248557394945!4f37.21542581820664!5f0.7820865974627469",
            "Empena Santa Cruz(Braz de Líra 2)": "https://www.google.com/maps/embed?pb=!4v1762460603644!6m8!1m7!1s8jsBiRDMGf_VFKL5yEbRzA!2m2!1d-7.955030414271919!2d-36.19729550193312!3f104.95319681824944!4f35.42684112378599!5f0.7820865974627469",
            "Empena Santa Cruz(Joaquim Nabuco)": "https://www.google.com/maps/embed?pb=!4v1762460821100!6m8!1m7!1sXx7mS-1T4KeTepsGAI_rqw!2m2!1d-7.950262550742936!2d-36.21232414051096!3f138.16819575693083!4f14.908240809105436!5f1.5366184664772655",
            "Empena Santa Cruz(Braz de Líra 3)": "https://www.google.com/maps/embed?pb=!4v1762460998174!6m8!1m7!1sohv6FQHz7q8Xs1TEAG4QYA!2m2!1d-7.952955861651219!2d-36.20002685936198!3f167.1545516957219!4f11.654863080500022!5f1.673728629596631",
            "Empena Santa Cruz(PE-160 1)": "https://www.google.com/maps/embed?pb=!4v1762461179357!6m8!1m7!1sSeW_mQyBUR-iFQyoAu_eXQ!2m2!1d-7.958877932484171!2d-36.18085644939502!3f295.06434090437006!4f15.700874893531804!5f1.5366990362433914",

            "Empena Taquaritinga(Vieira da Silva)": "https://www.google.com/maps/embed?pb=!4v1762461399019!6m8!1m7!1sOfGeAhzbmWlUNF_qUfiOxg!2m2!1d-7.955295682425437!2d-36.13079461936356!3f129.9973131787843!4f24.891604944824735!5f1.5366990362433914",
            "Empena Taquaritinga(PE 160 2)": "https://www.google.com/maps/embed?pb=!4v1762461567939!6m8!1m7!1sr68yH4TLeUABjKb-Ggs2cw!2m2!1d-7.960075757026368!2d-36.13635966651308!3f88.56225343477135!4f4.700081554937114!5f1.5366184664772655",

        }
        // Ignorar Acentos
        function normalizar(str) {
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").toLowerCase();
        }

        function buscarLinhas() {
            const input = document.getElementById('bairrosInput').value.trim();
            
            // Validação de entrada
            if (!input) {
                document.getElementById('resultado').innerHTML = "<span style='color: #cc0000;'>Por favor, digite um bairro para consultar.</span>";
                return;
            }
            
            const bairrosProcurados = input.split(',').map(b => normalizar(b.trim()));

            // Mostrar loading
            document.getElementById('resultado').innerHTML = "<span class='loading'></span>Buscando Empenas...";
            document.getElementById('resultado').className = "info";
            // Desabilitar botão durante a busca
            document.getElementById('consultarBtn').disabled = true;

            // Simular um tempo de processamento
            setTimeout(() => {
                let resultadosHTML = "";
                let encontrouResultados = false;
                
                // Para cada bairro procurado
                bairrosProcurados.forEach(bairroProcurado => {
                    if (!bairroProcurado) return; // Pular entradas vazias
                    
                    // Encontrar o bairro correspondente na base de dados
                    // Agora verificamos tanto o nome principal quanto as variações
                    const bairroEncontrado = dados.find(d => 
                        normalizar(d.bairro) === bairroProcurado || 
                        d.variacoes.some(v => normalizar(v) === bairroProcurado)
                    );
                    
                    if (bairroEncontrado) {
                        encontrouResultados = true;
                        resultadosHTML += `
                            <div class="bairro-result">
                                <div class="bairro-title">${bairroEncontrado.bairro}</div>
                                <div style="font-size: 14px; color: #666; margin-bottom: 8px;">
                                </div>
                                <div class="linhas-list">
                                    ${bairroEncontrado.empenas.map(empena => 
                                        `<button class="linha-btn" onclick="mostrarDetalhesEmpena('${empena}')">${empena}</button>`
                                    ).join('')}
                                </div>
                            </div>
                        `;
                    } else {
                        resultadosHTML += `
                            <div class="bairro-result">
                                <div class="bairro-title">${bairroProcurado}</div>
                                <div class="no-linhas">Nenhuma Empena encontrada para este bairro</div>
                            </div>
                        `;
                    }
                });
                
                // Se não houver resultados válidos
                if (!encontrouResultados) {
                    resultadosHTML = "<div class='no-linhas'>Nenhum bairro válido foi informado.</div>";
                }
                
                document.getElementById('resultado').innerHTML = resultadosHTML;
                document.getElementById('resultado').className = "";
                
                // Reabilitar o botão
                document.getElementById('consultarBtn').disabled = false;
            }, 800);
        }

        function mostrarDetalhesEmpena(empena) {
            // Verifica se tem imagem especial, senão usa a padrão
            const imagemEmpena = imagensEspeciais[empena] || "https://i.imgur.com/ygxe7QR.png";
            
            // Obter o mapa específico para a empena
            const mapaEmpena = mapasEmpenas[empena] || "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3958.258663292987!2d-35.88872292501706!3d-7.215845392848311!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7ac1f4d8b1b3f3b%3A0x5c5e5c5e5c5e5c5e!2sCampina%20Grande%20-%20PB!5e0!3m2!1spt-BR!2sbr!4v1234567890";
            
            let modalHTML = "";
            
           // Informações adicionais sobre a empena
            modalHTML += `
                <div class="linha-info">
                    <div class="linha-descricao"></div>
                    <div style="padding: 10px; background: #f8f9fa; border-radius: 8px; font-size:20px;">
                        <p><strong>Status:</strong> Disponível</p>
                    </div>
                </div>
            `;

            // Layout responsivo para imagem e mapa
            modalHTML += `
                <div class="modal-layout">
                    <div class="modal-image-container">
                        <img src="${imagemEmpena}" 
                             alt="Empena ${empena}" 
                             class="modal-image">
                    </div>
                    <div class="modal-map-container">
                        <iframe 
                            src="${mapaEmpena}" 
                            class="modal-map" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            `;

            document.getElementById('modalLinhaNumero').textContent = `${empena}`;
            document.getElementById('modalConteudo').innerHTML = modalHTML;
            document.getElementById('linhaModal').style.display = 'flex';
        }

        // Função para fechar o modal
        function fecharModal() {
            document.getElementById('linhaModal').style.display = 'none';
        }

        // Fechar modal ao clicar fora dele
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('linhaModal');
            if (event.target === modal) {
                fecharModal();
            }
        });

        // Função para limpar os resultados
        function limparResultados() {
            document.getElementById('resultado').innerHTML = "Os resultados aparecerão aqui";
            document.getElementById('bairrosInput').value = "";
            document.getElementById('resultado').className = "";
        }

        // Enter Para Rodar O Código
        document.getElementById("bairrosInput").addEventListener("keydown", function(e) {
            if (e.key === "Enter") {
                buscarLinhas();
            }
        });

        // Funções de navegação (mantidas as originais)
        function voltarpagina() {
            window.location.href = "Rotas Caruaru.html";             
        }

        function voltarpagina2() {
            window.location.href = "Rotas Natal.html";             
        }

        function voltarpagina3() {
            window.location.href = "Rotas João Pessoa.html";             
        }

        // Inicializar a galeria quando a página carregar
        document.addEventListener('DOMContentLoaded', function() {
            inicializarGaleria();
        });
    </script>
</body>
</html>